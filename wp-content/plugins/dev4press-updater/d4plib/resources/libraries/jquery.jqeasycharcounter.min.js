/**
 * jQuery jqEasyCharCounter Extended 1.0
 * https://github.com/EspadaV8/jqEasyCharCounter-Extended
 */

(function($){$.fn.extend({jqEasyCounter:function(f){return this.each(function(){var c=$(this),options=$.extend({maxChars:100,maxCharsWarning:80,msgFontSize:'12px',msgFontColor:'#000',msgFontFamily:'Arial',msgTextAlign:'right',msgWarningColor:'#F00',msgAppendMethod:'insertAfter',msg:'Characters: ',msgPlacement:'prepend',numFormat:'CURRENT/MAX'},f);if(options.maxChars<=0)return;var d=$("<div class=\"jqEasyCounterMsg\">&nbsp;</div>");var e={'font-size':options.msgFontSize,'font-family':options.msgFontFamily,'color':options.msgFontColor,'text-align':options.msgTextAlign,'width':'100%','margin':0,'opacity':0};d.css(e);d[options.msgAppendMethod](c);c.bind('keydown keyup keypress',doCount).bind('focus paste',function(){setTimeout(doCount,10)}).bind('blur',function(){d.stop().fadeTo('fast',0);return false});function doCount(){var a=c.val(),length=a.length;if(length>=options.maxChars){a=a.substring(0,options.maxChars)};if(length>options.maxChars){var b=c.scrollTop();c.val(a.substring(0,options.maxChars));c.scrollTop(b)};if(length>=options.maxCharsWarning){d.css({"color":options.msgWarningColor})}else{d.css({"color":options.msgFontColor})};if(options.msgPlacement=='prepend'){html=options.msg+options.numFormat}else{html=options.numFormat+options.msg}html=html.replace('CURRENT',c.val().length);html=html.replace('MAX',options.maxChars);html=html.replace('REMAINING',options.maxChars-c.val().length);d.html(html);d.stop().fadeTo('fast',1)}})}})})(jQuery);
