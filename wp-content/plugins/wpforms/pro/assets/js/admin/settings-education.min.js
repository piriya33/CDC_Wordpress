"use strict";var WPFormsSettingsEducation=window.WPFormsSettingsEducation||function(n,e,o){var i={init:function(){o(n).ready(i.ready)},ready:function(){i.events()},events:function(){i.clickEvents()},clickEvents:function(){o(n).on("click",".wpforms-settings-provider.education-modal",function(n){var t=o(this);switch(n.preventDefault(),n.stopImmediatePropagation(),t.data("action")){case"activate":i.activateModal(t.data("name"),t.data("path"));break;case"install":i.installModal(t.data("name"),t.data("url"));break;case"upgrade":i.upgradeModal(t.data("name"));break;case"license":i.licenseModal()}})},activateModal:function(n,t){o.alert({title:!1,content:wpforms_admin.education_activate_prompt.replace(/%name%/g,n),icon:"fa fa-info-circle",type:"blue",buttons:{confirm:{text:wpforms_admin.education_activate_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){return this.$body.find(".btn-confirm").prop("disabled",!0).html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i> '+wpforms_admin.education_activating),i.activateAddon(t,wpforms_admin.nonce,this),!1}},cancel:{text:wpforms_admin.cancel}}})},activateAddon:function(n,t,a){o.post(wpforms_admin.ajax_url,{action:"wpforms_activate_addon",nonce:t,plugin:n},function(n){a.close(),n.success?i.saveModal():o.alert({title:!1,content:n.data,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})})},saveModal:function(){o.alert({title:wpforms_admin.education_activated,content:wpforms_admin.education_save_prompt,icon:"fa fa-check-circle",type:"green",buttons:{confirm:{text:wpforms_admin.education_save_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){e.location=e.location}},cancel:{text:wpforms_admin.close}}})},installModal:function(n,t){t&&""!==t?o.alert({title:!1,content:wpforms_admin.education_install_prompt.replace(/%name%/g,n),icon:"fa fa-info-circle",type:"blue",boxWidth:"425px",buttons:{confirm:{text:wpforms_admin.education_install_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){return this.$body.find(".btn-confirm").prop("disabled",!0).html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i> '+wpforms_admin.education_installing),i.installAddon(t,wpforms_admin.nonce,this),!1}},cancel:{text:wpforms_admin.cancel}}}):i.upgradeModal(n,!1)},installAddon:function(n,t,a){o.post(wpforms_admin.ajax_url,{action:"wpforms_install_addon",nonce:t,plugin:n},function(n){a.close(),n.success?i.saveModal():o.alert({title:!1,content:n.data,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})})},upgradeModal:function(n,t){var a=n+" "+wpforms_admin.education_upgrade_title;t&&(a=t+" "+wpforms_admin.education_upgrade_title),o.alert({title:a,icon:"fa fa-lock",content:wpforms_admin.education_upgrade_message.replace(/%name%/g,n),boxWidth:"550px",onOpenBefore:function(){this.$body.find(".jconfirm-content").addClass("lite-upgrade")},buttons:{confirm:{text:wpforms_admin.education_upgrade_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){e.open(wpforms_admin.education_upgrade_url+"&utm_content="+encodeURI(n.trim()),"_blank")}}}})},licenseModal:function(){o.alert({title:!1,content:wpforms_admin.education_license_prompt,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})}};return i}(document,window,jQuery);WPFormsSettingsEducation.init();